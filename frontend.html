<html ng-app="app">
<head>

  <link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
 
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/select2/3.5.2/select2.min.js"></script>
  <link href="https://cdn.rawgit.com/novus/nvd3/master/build/nv.d3.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
  <script src="https://cdn.rawgit.com/novus/nvd3/master/build/nv.d3.js"></script>
</head>
<body>

    <div class="mermaid">
    graph TB
        A[13,032] --> |Accept John's Offer| B[12,000]
        A ==> |Reject John's Offer |C(($13,032))
        C --> |Offer from Vanessa 0.6| D[$14,000]
        D ==> |Accept Vanessa's Offer| E[$14,000]
        D --> |Reject Vanessa's Offer| F(($11,580))
        C --> |No Offer from Vanessa 0.4| G(($11,580))
        G --> |Salary 1 0.05| H[$21,600]
        G --> |Salary 2 0.25| I[$16,800]
        G --> |Salary 3 0.40| J[$12,800]
        G --> |Salary 4 0.25| K[$6,000]
        G --> |Salary 5 0.05| L[$0]
        F --> |Salary 1 0.05| M[$21,600]
        F --> |Salary 2 0.25| N[$16,800]
        F --> |Salary 3 0.40| O[$12,800]
        F --> |Salary 4 0.25| P[$6,000]
        F --> |Salary 5 0.05| Q[$0]
    </div>

    <!--script type="text/javascript">document.addEventListener('DOMContentLoaded', function() {
        function clearItems() {
            var vcsContainer = document.getElementById("vcs");
            while (vcsContainer.firstChild) {
                vcsContainer.removeChild(vcsContainer.firstChild);
            }
        }
    
        function addItem(metadata) {
            var vcsContainer = document.getElementById("vcs");
            var li = document.createElement("li");
            li.appendChild(document.createTextNode(metadata.command));
            vcsContainer.appendChild(li);
            console.log(metadata)
        }
    
        function recvUpdate(e) {
            pkt = JSON.parse(e.data);
            if(pkt.hasOwnProperty("command")) {
                addItem(pkt);
            } else {
                console.error(pkt);
            }
        };
    
        function connectToServer(url) {
            let socket = new WebSocket(url);
    
            socket.onopen = () => {
                webSocketMsgOnce({ endpoint:"fetch", params:"" }).then((msg) => {
                    obj = JSON.parse(msg.data);
                    clearItems();
                    obj.forEach(element => {
                        addItem(element);
                    });
                });
            }
    
            socket.onmessage = recvUpdate;
    
            socket.onclose = () => {
                console.log("WebSocket closed, retrying in 1 second...");
                setTimeout(() => connectToServer(url), 1000);
            };
    
            socket.onerror = (error) => console.error("WebSocket error:", error);
        }
    
        function webSocketMsgOnce(req) {
            return new Promise((resolve, reject) => {
                let socket = new WebSocket("ws://localhost:8008");
    
                socket.onopen = () => {
                    socket.send(JSON.stringify(req));
                }
    
                socket.onmessage = (e) => {
                    resolve(e);
                    socket.close();
                }
    
                socket.onerror = (e) => {
                    reject(e);
                }
            });
        }
    
        connectToServer("ws://localhost:8008");
    });</script-->
</body>
</html>